!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.string.trim.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.string.split.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.array.is-array.js"),require("core-js/modules/web.timers.js"),require("core-js/modules/es.string.fixed.js")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.regexp.exec.js","core-js/modules/es.string.replace.js","core-js/modules/es.string.trim.js","core-js/modules/es.string.match.js","core-js/modules/es.string.split.js","core-js/modules/es.array.slice.js","core-js/modules/es.array.concat.js","core-js/modules/es.array.is-array.js","core-js/modules/web.timers.js","core-js/modules/es.string.fixed.js"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).rainComponent={})}(this,(function(e){"use strict";function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e){var n=e.replace(/\<|\>/g,"");return{sel:n.match(/^\w+/)[0],data:c(n),children:[],text:undefined}}function c(e){var n={},t=(e=e.replace(/\s*\//,"")).replace(/^\w+(\s+)?/,"").replace(/(\'|\")\s+/g,"=").replace(/(\'|\")/g,"");if(""===t||t==undefined)return n;for(var i=t.split("="),s=0;s<i.length;s+=2)n[i[s]]=i[s+1];return n}var a={};function r(e){var n=document.createElement(e.sel);if(e.data!=={})for(var t in e.data)"ref"===t?a[e.data[t]]=n:n.setAttribute(t,e.data[t]);if(e.text!=undefined&&(n.innerText=e.text),e.children!==[]){for(var i=document.createDocumentFragment(),s=0;s<e.children.length;s++)i.appendChild(r(e.children[s]));n.appendChild(i)}return e.elm=n,n}var l=function(){function e(t){var i=this;n(this,e),s(this,"mount",(function(){i.refs=function(e){a={};var n=r(e);return document.body.appendChild(n),a}(i.ast)})),s(this,"mountByElement",(function(e){i.refs=function(e,n){return a={},e.parentNode.insertBefore(r(n),e),e.parentNode.removeChild(e),a}(e,i.ast)})),this._init(t)}return i(e,[{key:"_init",value:function(e){this.template=e,this.ast=function(e){var n=[];for(e=function(e){return e.trim().replace(/\>(\s+)\</g,"><")}(e);e.length;)if(/(^\<[^\/][^\<\>]*[^\/]\>)|(^\<.\>)/.test(e)){var t=o(e.match(/(^\<[^\/][^\<\>]*[^\/]\>)|(^\<.\>)/)[0]);n.push(t),e=e.replace(/(^\<[^\/][^\<\>]*[^\/]\>)|(^\<.\>)/,"")}else if(/^\<[^\/][^\<\>]*\/\>/.test(e)){var i=o(e.match(/^\<[^\/][^\<\>]*\/\>/)[0]);n.length>1?n[n.length-1].children.push(i):n.push(i),e=e.replace(/^\<[^\/][^\<\>]*\/\>/,"")}else if(/^[^\<]+</.test(e)){var s=e.match(/^[^\<]+</);s!=undefined&&(s=s[0].slice(0,-1),n[n.length-1].text=s,e=e.replace(/^[^\<]+</,"<"))}else if(/^\<\/[^\<\>]+\>/.test(e)){if(n.length>1){var c=n.pop();n[n.length-1].children.push(c)}e=e.replace(/^\<\/[^\<\>]+\>/,"")}return n[0]}(e)}}]),e}(),u="scroll_rainbow__wMMyN",d="scroll_scroll__Ys37t",f='\n<section id="'.concat("scroll_scrollBar__lRxhO",'">\n    <div class="').concat(d,"\" ref='scroll'></div>\n</section>\n"),m=u;var p=function(){function e(t){n(this,e),this._init(t)}return i(e,[{key:"_init",value:function(e){this.template=new l(f),this.template.mount(),function(e,n){"rainbow-gradient"===n.style&&e.classList.add(m),"gradient"===n.style&&(e.style.background="linear-gradient(to top, ".concat(n.colour[0],", ").concat(n.colour[1],")")),"single-colour"===n.style&&(Array.isArray(n.colour)?e.style.backgroundColor=n.colour[0]:e.style.backgroundColor=n.colour),window.onscroll=function(){var n=pageYOffset/(document.body.scrollHeight-innerHeight)*100;e.style.height=n+"%"}}(this.template.refs.scroll,e)}}]),e}(),h="background_imageAnimation__N4gfw",g='\n<section id="'.concat("background_bgSlideshow__ZleIx","\">\n    <ul ref='background'></ul>\n</section>\n"),v=h;var y=function(){function e(t){n(this,e),this._init(t)}return i(e,[{key:"_init",value:function(e){this.template=new l(g),this.template.mount(),function(e,n){for(var t=document.createDocumentFragment(),i=0;i<n.imageUrl.length;i++){var s=document.createElement("li"),o=document.createElement("span");o.style.animation="".concat(v," ").concat(n.time*n.imageUrl.length,"s linear infinite 0s"),o.style.animationDelay="".concat(n.time*i,"s"),o.style.backgroundImage="url(".concat(n.imageUrl[i],")"),s.appendChild(o),t.appendChild(s)}e.appendChild(t)}(this.template.refs.background,e)}}]),e}(),_='\n<section id="'.concat("mousePet_mousePet__RunZE","\" ref='mousePet'></section>\n");var L=function(){function e(t){n(this,e),this._init(t)}return i(e,[{key:"_init",value:function(e){this.template=new l(_),this.template.mount(),this.times=function(e,n){var t=0,i=0,s=0,o=0,c=0,a=0,r=0;return e.style.backgroundImage="url(".concat(n.gif,")"),window.addEventListener("mousemove",(function(n){i=n.x-e.offsetLeft-e.clientWidth/2,s=n.y-e.offsetTop-e.clientHeight/2,t=360*Math.atan(s/i)/(2*Math.PI),r=0;var o=event.clientX;a=e.offsetLeft<o?-180:0})),setInterval((function(){e.style.transform="rotateZ(".concat(t,"deg) rotateY(").concat(a,"deg)"),++r<50&&(c+=i/50,o+=s/50),e.style.top="".concat(o,"px"),e.style.left="".concat(c,"px")}),50)}(this.template.refs.mousePet,e)}}]),e}(),j="music_closed__SaLEd",b="music_play__jJiNY",w="music_pause__gaC2m",x="music_select__QJzyf",k="music_fixed__OfK-Y",P="music_card__lagn7",B="music_cover__UX9Dx",C=b,T="music_info__CRU4a",E="music_infoTop__GdkUD",q="music_infoBottom__iNdYL",N="music_title__85xVE",I="music_button__J9nfq",U="music_bar__WU7Aa",M="music_played__IE35O",O="music_volumeWrap__-tYkX",Y="music_volumeBar__bWsXM",A="music_volumePlayed__5TIH1",D="music_close__ye9S8",H="music_songList__08MkV",W='\n<section id="'.concat("music_music__nj1nj",'" ref="jellyrain_music">\n    <div class="').concat(k," ").concat(P,'" ref="fixed">\n        <div class="').concat(B," ").concat(C,'" ref="cover">\n            <i class="iconfont icon-play" ref="playPause"></i>\n        </div>\n        <div class="').concat(T,'" ref="info">\n            <div class="').concat(E,'" ref="infoTop">\n                <div class="').concat(N,'"ref="title"></div>\n                <div class="').concat(I,'" ref="button">\n                  <i class="iconfont icon-diyiyeshouyeshangyishou" ref="backward"></i>\n                  <i class="iconfont icon-zuihouyiyemoyexiayishou" ref="forward"></i>\n                  <i class="iconfont icon-list" ref="listButton"></i>\n                </div>\n            </div>\n            <div class="').concat(q,'" ref="infoBottom">\n                <div class="').concat(U,'" ref="bar">\n                    <div class="').concat(M,'" ref="played">\n                        <span class="').concat(M,'" ref="played"></span>\n                    </div>\n                </div>\n                <div class="').concat(O,'" ref="volumeWrap">\n                    <div class="').concat(Y,'" ref="volumeBar">\n                        <div class="').concat(A,'" ref="volumePlayed"></div>\n                    </div>\n                    <i class="iconfont icon-jiadayinliang" ref="volumeButton"></i>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="').concat(D," ").concat(P,'" ref="openClose">\n        <i class="iconfont icon-lessthan" ref="openCloseButton"></i>\n    </div>\n    <ol class="').concat(H," ").concat(P,'" ref="songList"></ol>\n</section>\n'),X=w,F=b,J=x,R=j;function S(e,n){var t=e.createAudio,i=!1,s=!1;e.cover.onclick=function(){i?(e.cover.classList.replace(X,F),e.playPause.classList.replace("icon-pause","icon-play"),e.songList.children[c].classList.remove(J),i=!i,t.pause()):(e.cover.classList.replace(F,X),e.playPause.classList.replace("icon-play","icon-pause"),e.songList.children[c].classList.add(J),i=!i,t.play())},setInterval((function(){var n=t.currentTime/t.duration;e.played.style.width=100*n+"%"}),100),e.bar.onclick=function(){var n,i,s,o=(n=event||window.event,i=e.bar.offsetWidth,s=e.infoBottom.offsetLeft,(n.pageX-s)/i);e.played.style.width=100*o+"%",t.currentTime=t.duration*o},t.volume=1,e.volumePlayed.style.height="100%",e.volumeBar.onclick=function(){var n,i,s=(n=event||window.event,i=e.volumeBar.offsetHeight,(e.jellyrain_music.offsetTop+49-n.pageY)/i);e.volumePlayed.style.height=100*s+"%",t.muted&&(e.volumeButton.classList.replace("icon-guanbiyinliang","icon-jiadayinliang"),t.muted=!t.muted),t.volume=s},e.volumeButton.onclick=function(){t.muted?(e.volumeButton.classList.replace("icon-guanbiyinliang","icon-jiadayinliang"),e.volumePlayed.style.height=100*t.volume+"%"):(e.volumeButton.classList.replace("icon-jiadayinliang","icon-guanbiyinliang"),e.volumePlayed.style.height=0),t.muted=!t.muted};var o=!1;e.openClose.onclick=function(){o?(e.openCloseButton.classList.replace("icon-greaterthan","icon-lessthan"),e.fixed.classList.remove(R),e.songList.classList.remove(R),s&&(n.length>5?e.songList.style.height="255px":e.songList.style.height="".concat(51*c,"px")),o=!o):(e.openCloseButton.classList.replace("icon-lessthan","icon-greaterthan"),e.fixed.classList.add(R),e.songList.classList.add(R),e.songList.style.height=0,o=!o)};var c=0;function a(){t.src=n[c].audioUrl,e.cover.style.backgroundImage="url(".concat(n[c].picUrl,")"),e.title.innerText="".concat(n[c].songName," - ").concat(n[c].singerName)}var r=setInterval((function(){n.length>0&&(a(),clearTimeout(r))}),300);function l(){e.songList.children[c].classList.remove(J),++c>=n.length&&(c=0),a(),e.songList.children[c].classList.add(J),e.cover.classList.replace(F,X),e.playPause.classList.replace("icon-play","icon-pause"),t.play()}t.addEventListener("ended",l),e.backward.onclick=function(){e.songList.children[c].classList.remove(J),--c<0&&(c=n.length-1),a(),e.songList.children[c].classList.add(J),e.cover.classList.replace(F,X),e.playPause.classList.replace("icon-play","icon-pause"),t.play()},e.forward.onclick=l;var u=!1;e.listButton.onclick=function(){u||(!function(){for(var t=document.createDocumentFragment(),i=0;i<n.length;i++){var s=document.createElement("li");s.innerHTML="<span></span><span>".concat(i+1,"</span><span>").concat(n[i].songName,"</span><span>").concat(n[i].singerName,"</span>"),t.appendChild(s)}e.songList.appendChild(t)}(),u=!u),s?e.songList.style.height=0:n.length>5?e.songList.style.height="255px":e.songList.style.height="".concat(51*n.length,"px"),s=!s},e.songList.onclick=function(n){e.songList.children[c].classList.remove(J),c=n.target.parentNode.children[1].innerText-1,a(),i=!0,e.songList.children[c].classList.add(J),e.cover.classList.replace(F,X),e.playPause.classList.replace("icon-play","icon-pause"),t.play()}}var Z=function(){function e(t){n(this,e),this._init(t)}return i(e,[{key:"_init",value:function(e){this.template=new l(W),this.template.mount(),S(this.template.refs,e.songList)}}]),e}();e.background=function(e){return new y(e)},e.mousePet=function(e){return new L(e)},e.music=function(e){return new Z(e)},e.scroll=function(e){return new p(e)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=rainComponent.min.js.map
